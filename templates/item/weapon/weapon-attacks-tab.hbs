<div class="weapon-attacks-tab full-height">
  {{! Attacks }}
  <div class="flexcol, flex-group-center">
    <div class="attacks">
      <ul class="list list-1col attack-list">

        {{! For each attack }}
        {{#each data.attack as |attack key|}}
          <li class="list-item attack grid grid-16col border">

            {{! Name Label }}
            <label class="stat-label flex-group-left padding-left10 grid-span-2">{{localize
              "TITAN.label"}}</label>

            {{! Name input }}
            <input
              class="flex-group-right padding-right10 edit-attack-name grid-span-2"
              type="text"
              value="{{attack.name}}"
              data-idx={{key}}
              data-dtype="text"
            />

            {{! Type Label }}
            <label class="stat-label flex-group-left padding-left10 grid-span-2">{{localize
              "TITAN.type.label"}}</label>

            {{! Type Selector }}
            <select
              class="flex-group-right padding-right10 select-attack-type grid-span-2"
              data-idx={{key}}>
              {{selectOptions ../attackTypeOptions selected=attack.type localize=true}}
            </select>

            {{! Range Label }}
            <label class="stat-label flex-group-left padding-left10 grid-span-2">{{localize
              "TITAN.range.label"}}</label>

            {{! Range Selector }}
            <select
              class="flex-group-right padding-right10 grid-span-2 select-attack-range"
              data-idx={{key}}>
              {{#if (equals attack.type "ranged")}}
                {{selectOptions ../rangedRangeOptions selected=attack.range localize=true}}
              {{else}}
                {{selectOptions ../meleeRangeOptions selected=attack.range localize=true}}
              {{/if}}
            </select>


            {{! Attribute Label }}
            <label class="stat-label flex-group-left padding-left10 grid-span-2">{{localize
              "TITAN.attribute.label"}}</label>

            {{! Attribute Selector}}
            <select
              class="flex-group-right padding-right10 select-attack-attribute grid-span-2"
              data-idx={{key}}>
              {{selectOptions ../attributeOptions selected=attack.attribute localize=true}}
            </select>

            {{! Skill Label}}
            <label 
              class="stat-label flex-group-left padding-left10 select-attack-skill grid-span-2">
              {{localize "TITAN.skill.label"}}
            </label>

            {{! Skill Selector }}
            <select class="flex-group-right grid-span-2 select-attack-skill grid-span-4"
              data-idx={{key}}>
              {{selectOptions ../skillOptions selected=attack.skill localize=true}}
            </select>

            {{! Damage Label }}
            <label class="stat-label flex-group-left padding-left10 grid-span-2">{{localize
              "TITAN.damage.label"}}</label>

            {{! Damage Input }}
            <input
              class="flex-group-right padding-right10 edit-attack-damage grid-span-2"
              type="number"
              value="{{attack.damage}}"
              data-idx={{key}}
              data-dtype="Number"
            />

            {{! Traits Label }}
            <label class="stat-label flex-group-left padding-left10">{{localize
              "TITAN.traits.label"}}</label>

            {{! Traits Edit}}
            <a class="fas fa-edit flex-group-right padding-right10 grid-span-1 edit-attack-traits" data-idx={{key}}></a>

            {{! Traits container }}
            {{#if attack.traits.length}}
              <div class="traits grid-span-8">
                <div class="grid grid-2col">
                  {{#each attack.traits as |trait key|}}
                    <div class="border flex-group-center">
                      {{#if trait.numberValue}}
                        <div>
                          {{localize (concat "TITAN.attack.trait.option." trait.name ".label")}}
                          {{concat "(" trait.numberValue ")"}}
                        </div>
                      {{else}}
                        {{localize (concat "TITAN.attack.trait.option." trait.name ".label")}}
                      {{/if}}
                    </div>
                  {{/each}}
                </div>
              </div>
            {{/if}}

            {{! Delete attack }}
            <div class="border flex-group-center">
              <a class="fas fa-trash delete-attack" data-idx={{key}}></a>
            </div>
          </li>
        {{/each}}
        {{! Adding a new attack }}
        <div class="flex-group-center padding-right10 grid-span-4 border">
          <a class="fas fa-plus-circle add-attack"></a>
        </div>
      </ul>
    </div>
  </div>
</div>
